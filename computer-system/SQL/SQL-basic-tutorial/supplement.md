# 补充

## 关系模型

- **主键**：够通过某个字段唯一区分出不同的记录，这个字段被称为主键。
- **外键**：可以把数据与另一张表关联起来，这种列称为外键。

### 索引

**索引** 是关系数据库中对某一列或多个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统不必扫描整个表，而是直接定位到符合条件的记录，这样就大大加快了查询速度。

索引的效率取决于索引列的值是否 **散列**，即该列的值如果越互不相同，那么索引效率越高。反过来，如果记录的列存在大量相同的值，对该列创建索引就没有意义。

可以对一张表创建多个索引。索引的优点是提高了查询效率，缺点是在插入、更新和删除记录时，需要同时修改索引，因此，索引越多，插入、更新和删除记录的速度就越慢。

对于主键，关系数据库会自动对其创建 **主键索引**。使用主键索引的效率是最高的，因为主键会保证绝对唯一。

#### 唯一索引

在设计关系数据表的时候，看上去唯一的列，例如身份证号、邮箱地址等，因为他们具有业务含义，因此不宜作为主键。但是，这些列根据业务要求，又具有唯一性约束：即不能出现两条记录存储了同一个身份证号。这个时候，就可以给该列添加一个 **唯一索引**。

### 导入/导出 EXCEL/CSV

```sql
-- 导入
-- TODO: 先创建表，再导入数据
-- TODO: 建议所有字段都设为接纳 NULL 值，也暂时不要设置主键。
-- 因为我们并不知道即将导入的 CSV 文件中的数据是否完整和规范，即便是数字，也先使用 VARCHAR 字段，以防止文件中的数据格式不正确导致的奇怪错误。
-- 我们可以在数据导入后，在对数据库进行验证、清理和修正。

LOAD DATA infile '**/*.xlsx' INTO TABLE table-name;
LOAD DATA infile '**/*.csv' INTO TABLE table-name FIELDS TERMINATED BY ',' ENCLOSED BY '"';

-- 导出
SELECT * FROM table-name INTO OUTFILE '**/*.xlsx';
SELECT * FROM table-name INTO OUTFILE '**/*.csv' FIELDS TERMINATED BY ',';
```

> [如何在 MySQL 中导入和导出 CSV / Excel 文件](https://zhuanlan.zhihu.com/p/444937414)